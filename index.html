<!DOCTYPE html>
<html>
  <head>
    <style>
      /*CSS styles go here*/
      input[type="text"] {
        padding: 10px;
        border: none;
        border-bottom: solid 4px #c9c9c9;
        transition: border 0.3s;
        display: block;
        margin-left: auto;
        margin-right: auto;
      }
      
      .windUnits {
        font: 15px trebuchet ms, sans-serif;
      }
      .presUnits {
        font: 15px trebuchet ms, sans-serif;
      }
      .tempUnits {
        font: 15px trebuchet ms, sans-serif;
      }
      .wakeup {
        font: 15px trebuchet ms, sans-serif;
      }
      
      h1 {
        font: 30px impact, sans-serif;
        text-align: center;
      }
      
      h2 {
        font: 25px impact, sans-serif;
        text-align: center;
      }
      
      p.instruct {
        font: 25px optima, sans-serif;
        font-style: italic;
      }
      
      p {
        font: 15px trebuchet ms, sans-serif;
        text-align: center;
      }
      
      body {
        background-color: #E4E4E4;
        display: block;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      }
      
      .subButton {
        font: 15px trebuchet ms, sans-serif;
        background-color: #D6D6D6;
        color: #2E2E2E;
        border-radius: 5px;
        display: block;
        margin-left: auto;
        margin-right: auto;
      }
      
      .subButton:hover {
        background-color: #AEAEAE;
      }

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
      //jQuery script to get settings goes here
      $(function() {
        try {
          var ps = localStorage.getItem(1);
          $("loc1").val(ps[0]);
          $("loc2").val(ps[1]);
          $("loc3").val(ps[2]);
          $("input[name='unitWind'][value=" + ps[3] + "]").prop(checked, true);
          $("input[name='unitPres'][value=" + ps[4] + "]").prop(checked, true);
          $("input[name='unitTemp'][value=" + ps[5] + "]").prop(checked, true);
          $("input[name='wakeup'][value=" + ps[6] + "]").prop(checked, true);
          
        } catch(err) {
          console.log(err.message);
        }
        $("#subButton").click(function() {
          var persistSettings = new Array();
          var loc1 = document.getElementById("loc1").value;
          persistSettings[persistSettings.length] = loc1;
          var loc2 = document.getElementById("loc2").value;
          persistSettings[persistSettings.length] = loc2;
          var loc3 = document.getElementById("loc3").value;
          persistSettings[persistSettings.length] = loc3;
          var winUnit = $("input[type='radio'][name='unitWind']:checked").val();
          persistSettings[persistSettings.length] = winUnit;
          var preUnit = $("input[type='radio'][name='unitPres']:checked").val();
          persistSettings[persistSettings.length] = preUnit;
          var temUnit = $("input[type='radio'][name='unitTemp']:checked").val();
          persistSettings[persistSettings.length] = temUnit;
          var wakeup = $("input[type='radio'][name='wakeup']:checked").val();
          persistSettings[persistSettings.length] = wakeup;
          var options = { location1: loc1, location2: loc2, location3: loc3, units: { wind: winUnit, pressure: preUnit, temp: temUnit }, wakeup: wakeup };
          localStorage.setItem(1, persistSettings);
          document.location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(options));
        });
      });
    </script>
  </head>
  <body>
    <!--HTML body goes here-->
    <h1>3Weather settings</h1>
    <h2>Locations</h2>
    <p class="instruct">To add further accuracy, add a comma and the country code..</p>
    <p>Enter first location (up click):</p>
    <input type="text" id="loc1" value="New York, US" onfocus="if(this.value != 'New York, US' || '' || ' ') { this.value = ''; }">
    <p>Enter second location (middle click):</p>
    <input type="text" id="loc2" value="London, GB" onfocus="if(this.value != 'London, GB' || '' || ' ') { this.value = ''; }">
    <p>Enter third location (down click):</p>
    <input type="text" id="loc3" value="Sydney, AU" onfocus="if(this.value != 'Sydney, AU' || '' || ' ') { this.value = ''; }">
    <br>
    <h2>Units</h2>
    <p>Wind speed:</p>
    <div class="windUnits">
      <input type="radio" id="unitWind1" name="unitWind" value="kph">KPH
      <input type="radio" id="unitWind2" name="unitWind" value="mph" checked>MPH
      <input type="radio" id="unitWind3" name="unitWind" value="kts">KTS
    </div>
    <br>
    <p>Pressure:</p>
    <div class="presUnits">
      <input type="radio" id="unitPres1" name="unitPres" value="hPa" checked>hPa/MB
      <input type="radio" id="unitPres2" name="unitPres" value="inHg">inHg
    </div>
    <br>
    <p>Temperature:</p>
    <div class="tempUnits">
      <input type="radio" id="unitTemp1" name="unitTemp" value="c" checked>°C
      <input type="radio" id="unitTemp2" name="unitTemp" value="f">°F
    </div>
    <br>
    <h2>Wakeup</h2>
    <p>This enables a daily wakeup, asking if you have checked the weather today.<br>Will be enabled in the next update.</p>
    <div class="wakeupUnits">
      <input type="radio" id="wakeupON" name="wakeup" value="true" checked>On
      <input type="radio" id="wakeupOFF" name="wakeup" value="false"> Off
    </div>
    <br>
    <button class="subButton" id="subButton">Submit</button>
  </body>
</html>
